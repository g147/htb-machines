from web3 import Web3,eth
import json,hashlib

infura_url = "http://127.0.0.1:63991"
web3 = Web3(Web3.HTTPProvider(infura_url))
web3.eth.defaultAccount = web3.eth.accounts[0]

address = open("/home/bobby/projects/ChainsawClub/address.txt", "r").read().replace("\n","")

with open('/home/bobby/projects/ChainsawClub/ChainsawClub.json') as f:
	data = json.load(f)

url = web3.eth.contract(abi=data['abi'], bytecode=data['bytecode'])
instance = web3.eth.contract(address=address, abi=data['abi'])

password = "glat"
hash = hashlib.md5(password.encode('utf-8')).hexdigest()
instance.functions.setUsername("glatisant").transact()
instance.functions.setPassword(hash).transact()
